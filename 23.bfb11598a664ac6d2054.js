(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{tU86:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),e=t("mrSG"),i=t("ZZ/e"),o=t("bGBI"),a=t("E8Si"),s=t("UNoV"),r=t("rF4U"),b=t("gaQp"),c=function(){return function(l,n,t,u,e,i,o,a,s,r,b,c,h,p,d,m){this.transaction_id=l,this.user_id=n,this.payment_id=t,this.vehicle_no=u,this.toll_plaza_id=e,this.transaction_date=i,this.transaction_time=o,this.status=a,this.amount=s,this.isreturn=r,this.isValid=b,this.otp=c,this.method_name=h,this.vehicle_type_name=p,this.user_name=d,this.isPassed=m}}(),h=t("t/Na"),p=function(){function l(l){this.http=l,this.url="https://tollproject.herokuapp.com/transaction/",this.url1="https://tollproject.herokuapp.com/motps/"}return l.prototype.addTransaction=function(l){var n=JSON.stringify(l);return this.http.post(this.url,n,{headers:(new h.g).set("Content-type","application/json")})},l.prototype.getTransactionById=function(l){return this.http.get(this.url+l)},l.prototype.getOtpOfTollPlaza=function(l){return this.http.get(this.url1+l)},l.ngInjectableDef=u.ab({factory:function(){return new l(u.eb(h.c))},token:l,providedIn:"root"}),l}(),d=function(){function l(l){this.http=l,this.url="https://mailappdemo.herokuapp.com/mail/"}return l.prototype.sendEmail=function(l){var n=JSON.stringify(l);return this.http.post(this.url,n,{headers:(new h.g).set("Content-type","application/json")})},l.ngInjectableDef=u.ab({factory:function(){return new l(u.eb(h.c))},token:l,providedIn:"root"}),l}(),m=function(){return function(l,n,t){this.subject=l,this.receiver=n,this.text=t}}(),f=t("l9vU"),g=function(){return function(l,n,t,u,e,i,o){this.SrNo=l,this.highway_name=n,this.city=t,this.emergency_no=u,this.amount=e,this.otp=i,this.toll_name=o}}(),x=function(){function l(l,n,t,u,e,i,o,a,s,r,b){var c=this;this.toast=l,this.router=n,this.vdata=t,this.tplaza=u,this.payd=e,this.paymeth=i,this.vtdata=o,this.activateroute=a,this.tdata=s,this.send=r,this.udata=b,this.myDate=(new Date).toTimeString(),this.ctime=(new Date).toDateString(),this.tollPlazas=[],this.mdate=(new Date).toISOString(),this.stime=(new Date).getTime(),this.tollplaza=[],this.vehicletype=[],this.mname="",this.paydetail=[],this.paydata=[],this.num=0,this.city="",this.sts="",this.amounts=[],this.allamt=[],this.user=[],this.vname="",this.pic="",this.name="",this.final_tollplaza=[],this.buttonDisabled=!1,this.final_arr_transaction=[],this.otps=[],this.router.getCurrentNavigation().extras.state&&(this.vno=this.router.getCurrentNavigation().extras.state.prev_vehicle_no,this.amounts=this.router.getCurrentNavigation().extras.state.amounts),this.activateroute.params.subscribe(function(l){c.vehicle_type=l.prev_vehicle_type,c.amt=l.prev_amt,c.whichj=l.prev_journey,c.mid=l.prev_mid,c.mname=l.prev_mname,c.pid=l.prev_payid,c.router.getCurrentNavigation().extras.state&&(c.tollPlazas=c.router.getCurrentNavigation().extras.state.user,c.amounts=c.router.getCurrentNavigation().extras.state.amounts,c.final_tollplaza=c.router.getCurrentNavigation().extras.state.finalplaza)});var h=0;for(h=0;h<this.final_tollplaza.length;h++)this.final_arr_transaction[h]=new g(h+1,this.final_tollplaza[h].highway_name,this.final_tollplaza[h].city,this.final_tollplaza[h].emergency_number,this.amounts[h],this.otps[h],this.final_tollplaza[h].toll_name)}return l.prototype.ngOnInit=function(){var l=this;this.tdata.getOtpOfTollPlaza(this.final_tollplaza.length).subscribe(function(n){l.otps=n},function(l){console.log(l)},function(){}),this.vtdata.getVehicleById(this.vehicle_type).subscribe(function(n){l.vehicletype=n},function(l){console.log(l)},function(){}),this.id=parseInt(localStorage.getItem("id")),this.payd.getAllPaymentDetailsByUser(this.id).subscribe(function(n){l.paydetail=n},function(l){console.log(l)},function(){}),this.payd.getPaymentDetailById(this.pid).subscribe(function(n){l.paydata=n},function(l){console.log(l)},function(){})},l.prototype.onRadioChange=function(l){this.payment_type=l},l.prototype.twoDigits=function(l){return 0<=l&&l<10?"0"+l.toString():-10<l&&l<0?"-0"+(-1*l).toString():l.toString()},l.prototype.getdates=function(){var l=new Date;return l.getUTCFullYear()+"-"+this.twoDigits(1+l.getUTCMonth())+"-"+this.twoDigits(l.getUTCDate())},l.prototype.gettimes=function(){var l=(new Date).getTimezoneOffset(),n=new Date((new Date).getTime()+6e4*(330+l));return n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()},l.prototype.transaction=function(){return e.b(this,void 0,void 0,function(){var l,n,t,u,i=this;return e.e(this,function(e){switch(e.label){case 0:return[4,this.toast.create({message:"Transaction Successfull",duration:3e3,showCloseButton:!0,closeButtonText:"Ok",position:"bottom",translucent:!0,animated:!0})];case 1:return l=e.sent(),[4,this.toast.create({message:"Transaction Unsuccessfull",duration:3e3,showCloseButton:!0,closeButtonText:"Ok",position:"bottom",translucent:!0,animated:!0})];case 2:return n=e.sent(),this.udata.getUserById(this.id).subscribe(function(l){i.user=l,i.recevier=l[0].user_email,i.name=l[0].user_name},function(l){console.log(l)},function(){}),this.num=Math.floor(0+100*Math.random()),t=0,this.num%2==0?(t=1,l.present(),this.subject="Transaction Status",this.text="<b>Transaction Successfull Receipt Of Transaction is below</b><br/>",this.send.sendEmail(new m(this.subject,this.recevier,this.text)).subscribe(function(l){},function(l){console.log(l)},function(){}),this.router.navigate(["/transection-status"])):(t=0,n.present(),this.router.navigate(["/transaction-failed"])),u=0,this.final_tollplaza.forEach(function(l){var n;n="return"==i.whichj?1:0,i.tdata.addTransaction(new c(null,i.id,i.pid,i.vno,parseInt(l.toll_plaza_id),i.getdates(),i.gettimes(),t,i.amounts[u],n,1,i.otps[u],"","","",0)).subscribe(function(l){},function(l){console.log(l)},function(){}),u++}),[2]}})})},l}(),y=function(){return function(){}}(),v=t("pMnS"),w=t("oBZk"),_=t("gIcY"),P=t("Ip0R"),C=t("ZYCi"),N=u.vb({encapsulation:0,styles:[["#a[_ngcontent-%COMP%]{border-collapse:collapse;table-layout:fixed;width:370px}#a[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #000;width:150px;word-wrap:break-word}#a[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #a[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #000}"]],data:{}});function k(l){return u.Rb(0,[(l()(),u.xb(0,0,null,null,3,"ion-label",[["style","float:left"]],null,null,null,w.qb,w.z)),u.wb(1,49152,null,0,i.N,[u.h,u.n],null,null),(l()(),u.xb(2,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(3,null,[" Vehicle :- ",""]))],null,function(l,n){l(n,3,0,n.context.$implicit.vehicle_type_name)})}function O(l){return u.Rb(0,[(l()(),u.xb(0,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),u.xb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Pb(2,null,[" "," "])),(l()(),u.xb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Pb(4,null,[" "," "])),(l()(),u.xb(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Pb(6,null,[" "," "])),(l()(),u.xb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Pb(8,null,[" "," "])),(l()(),u.xb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Pb(10,null,[" "," "])),(l()(),u.xb(11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Pb(12,null,[" "," "]))],null,function(l,n){l(n,2,0,n.context.$implicit.SrNo),l(n,4,0,n.context.$implicit.highway_name),l(n,6,0,n.context.$implicit.city),l(n,8,0,n.context.$implicit.emergency_no),l(n,10,0,n.context.$implicit.toll_name),l(n,12,0,n.context.$implicit.amount)})}function z(l){return u.Rb(0,[(l()(),u.xb(0,0,null,null,29,"ion-list",[],null,null,null,w.sb,w.A)),u.wb(1,49152,null,0,i.O,[u.h,u.n],null,null),(l()(),u.xb(2,0,null,0,27,"div",[["class","card list"]],null,null,null,null,null)),(l()(),u.xb(3,0,null,null,3,"div",[["class","item item-divider"]],null,null,null,null,null)),(l()(),u.xb(4,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),u.xb(5,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,["Payment Detail"])),(l()(),u.xb(7,0,null,null,4,"div",[["class","item item-divider"]],null,null,null,null,null)),(l()(),u.xb(8,0,null,null,3,"h6",[],null,null,null,null,null)),(l()(),u.xb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,[" Card No "])),(l()(),u.Pb(11,null,[" :- ",""])),(l()(),u.xb(12,0,null,null,4,"div",[["class","item item-divider"]],null,null,null,null,null)),(l()(),u.xb(13,0,null,null,3,"h6",[],null,null,null,null,null)),(l()(),u.xb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,[" Method Name "])),(l()(),u.Pb(16,null,[" :- ",""])),(l()(),u.xb(17,0,null,null,4,"div",[["class","item item-divider"]],null,null,null,null,null)),(l()(),u.xb(18,0,null,null,3,"h6",[],null,null,null,null,null)),(l()(),u.xb(19,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,[" Card Name "])),(l()(),u.Pb(21,null,[" :- ",""])),(l()(),u.xb(22,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),u.xb(23,0,null,null,6,"ion-item",[],null,null,null,w.pb,w.v)),u.wb(24,49152,null,0,i.H,[u.h,u.n],null,null),(l()(),u.xb(25,0,null,0,3,"ion-input",[["pattern","[0-9]{3}"],["placeholder","Enter CVV"],["title","Only three Digit allow"],["type","password"]],null,[[null,"ionBlur"],[null,"ionChange"]],function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Hb(l,28)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==u.Hb(l,28)._handleInputEvent(t.target.value)&&e),e},w.lb,w.u)),u.Mb(5120,null,_.i,function(l){return[l]},[i.Qb]),u.wb(27,49152,null,0,i.G,[u.h,u.n],{pattern:[0,"pattern"],placeholder:[1,"placeholder"],type:[2,"type"]},null),u.wb(28,16384,null,0,i.Qb,[u.n],null,null),(l()(),u.xb(29,0,null,0,0,"img",[["alt",""],["src","../../../assets/icon/cvv.jpg"],["width","20%"]],null,null,null,null,null))],function(l,n){l(n,27,0,"[0-9]{3}","Enter CVV","password")},function(l,n){l(n,11,0,n.context.$implicit.card_no),l(n,16,0,n.context.$implicit.method_name),l(n,21,0,n.context.$implicit.card_name)})}function D(l){return u.Rb(0,[u.Jb(0,P.e,[u.y]),u.Jb(0,P.c,[u.y]),(l()(),u.xb(2,0,null,null,11,"ion-header",[],null,null,null,w.hb,w.q)),u.wb(3,49152,null,0,i.B,[u.h,u.n],null,null),(l()(),u.xb(4,0,null,0,9,"ion-toolbar",[],null,null,null,w.Gb,w.P)),u.wb(5,49152,null,0,i.Bb,[u.h,u.n],null,null),(l()(),u.xb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,w.V,w.e)),u.wb(7,49152,null,0,i.l,[u.h,u.n],null,null),(l()(),u.xb(8,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Hb(l,10).onClick(t)&&e),e},w.T,w.c)),u.wb(9,49152,null,0,i.g,[u.h,u.n],null,null),u.wb(10,16384,null,0,i.h,[[2,i.hb],i.Ib],null,null),(l()(),u.xb(11,0,null,0,2,"ion-title",[],null,null,null,w.Fb,w.O)),u.wb(12,49152,null,0,i.zb,[u.h,u.n],null,null),(l()(),u.Pb(-1,0,["Confirm Payment"])),(l()(),u.xb(14,0,null,null,69,"ion-content",[["padding",""]],null,null,null,w.db,w.m)),u.wb(15,49152,null,0,i.u,[u.h,u.n],null,null),(l()(),u.xb(16,0,null,0,13,"table",[["style","padding: 2%;border:0;"]],null,null,null,null,null)),(l()(),u.xb(17,0,null,null,12,"tbody",[],null,null,null,null,null)),(l()(),u.xb(18,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u.xb(19,0,null,null,10,"td",[],null,null,null,null,null)),(l()(),u.xb(20,0,null,null,4,"ion-label",[["style","float:left;text-decoration:bold"]],null,null,null,w.qb,w.z)),u.wb(21,49152,null,0,i.N,[u.h,u.n],null,null),(l()(),u.xb(22,0,null,0,2,"b",[],null,null,null,null,null)),(l()(),u.Pb(23,null,[" Date :- ",""])),u.Lb(24,2),(l()(),u.xb(25,0,null,null,4,"ion-label",[["style","float: right;"]],null,null,null,w.qb,w.z)),u.wb(26,49152,null,0,i.N,[u.h,u.n],null,null),(l()(),u.xb(27,0,null,0,2,"b",[],null,null,null,null,null)),(l()(),u.Pb(28,null,["Time :- "," "])),u.Lb(29,2),(l()(),u.xb(30,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),u.xb(31,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),u.xb(32,0,null,0,16,"table",[],null,null,null,null,null)),(l()(),u.xb(33,0,null,null,15,"tbody",[],null,null,null,null,null)),(l()(),u.xb(34,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),u.xb(35,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u.xb(36,0,null,null,3,"ion-label",[],null,null,null,w.qb,w.z)),u.wb(37,49152,null,0,i.N,[u.h,u.n],null,null),(l()(),u.xb(38,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(39,null,[" Vehicle No :- ",""])),(l()(),u.xb(40,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.xb(41,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),u.xb(42,0,null,null,3,"ion-label",[],null,null,null,w.qb,w.z)),u.wb(43,49152,null,0,i.N,[u.h,u.n],null,null),(l()(),u.xb(44,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(45,null,[" Journey Type :- ",""])),(l()(),u.xb(46,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.ob(16777216,null,null,1,null,k)),u.wb(48,278528,null,0,P.k,[u.W,u.S,u.w],{ngForOf:[0,"ngForOf"]},null),(l()(),u.xb(49,0,null,0,28,"table",[["id","a"]],null,null,null,null,null)),(l()(),u.xb(50,0,null,null,27,"tbody",[],null,null,null,null,null)),(l()(),u.xb(51,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),u.xb(52,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,["Sr.No "])),(l()(),u.xb(54,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,["Highway Name"])),(l()(),u.xb(56,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,["City Name"])),(l()(),u.xb(58,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,["Emergency No"])),(l()(),u.xb(60,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,["Toll Name"])),(l()(),u.xb(62,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,["Amount"])),(l()(),u.ob(16777216,null,null,1,null,O)),u.wb(65,278528,null,0,P.k,[u.W,u.S,u.w],{ngForOf:[0,"ngForOf"]},null),(l()(),u.xb(66,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u.xb(67,0,null,null,4,"td",[["colspan","5"]],null,null,null,null,null)),(l()(),u.xb(68,0,null,null,3,"ion-label",[["style","float:left"]],null,null,null,w.qb,w.z)),u.wb(69,49152,null,0,i.N,[u.h,u.n],null,null),(l()(),u.xb(70,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),u.Pb(-1,null,[" Total Amount :- "])),(l()(),u.xb(72,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),u.xb(73,0,null,null,4,"ion-label",[],null,null,null,w.qb,w.z)),u.wb(74,49152,null,0,i.N,[u.h,u.n],null,null),(l()(),u.xb(75,0,null,0,2,"b",[],null,null,null,null,null)),(l()(),u.Pb(76,null,["",""])),u.Lb(77,2),(l()(),u.xb(78,0,null,0,2,"table",[],null,null,null,null,null)),(l()(),u.ob(16777216,null,null,1,null,z)),u.wb(80,278528,null,0,P.k,[u.W,u.S,u.w],{ngForOf:[0,"ngForOf"]},null),(l()(),u.xb(81,0,null,0,2,"ion-button",[["expand","block"],["style","position:fixed;width:100%;bottom:0;left:0"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.transaction()&&u),u},w.U,w.d)),u.wb(82,49152,null,0,i.k,[u.h,u.n],{expand:[0,"expand"]},null),(l()(),u.Pb(-1,0,["Confirm"]))],function(l,n){var t=n.component;l(n,48,0,t.vehicletype),l(n,65,0,t.final_arr_transaction),l(n,80,0,t.paydata),l(n,82,0,"block")},function(l,n){var t=n.component,e=u.Qb(n,23,0,l(n,24,0,u.Hb(n,0),t.mdate,"mediumDate"));l(n,23,0,e);var i=u.Qb(n,28,0,l(n,29,0,u.Hb(n,0),t.stime,"shortTime"));l(n,28,0,i),l(n,39,0,t.vno),l(n,45,0,t.whichj);var o=u.Qb(n,76,0,l(n,77,0,u.Hb(n,1),t.amt,"INR"));l(n,76,0,o)})}function T(l){return u.Rb(0,[(l()(),u.xb(0,0,null,null,1,"app-confirm-payment",[],null,null,null,D,N)),u.wb(1,114688,null,0,x,[i.Rb,C.m,r.a,s.a,o.a,a.a,b.a,C.a,p,d,f.a],null,null)],function(l,n){l(n,1,0)},null)}var F=u.tb("app-confirm-payment",x,T,{},{},[]);t.d(n,"ConfirmPaymentPageModuleNgFactory",function(){return S});var S=u.ub(y,[],function(l){return u.Eb([u.Fb(512,u.k,u.jb,[[8,[v.a,F]],[3,u.k],u.C]),u.Fb(4608,P.n,P.m,[u.y,[2,P.x]]),u.Fb(4608,_.t,_.t,[]),u.Fb(4608,i.b,i.b,[u.E,u.g]),u.Fb(4608,i.Hb,i.Hb,[i.b,u.k,u.u,P.d]),u.Fb(4608,i.Mb,i.Mb,[i.b,u.k,u.u,P.d]),u.Fb(1073742336,P.b,P.b,[]),u.Fb(1073742336,_.r,_.r,[]),u.Fb(1073742336,_.g,_.g,[]),u.Fb(1073742336,i.Db,i.Db,[]),u.Fb(1073742336,C.q,C.q,[[2,C.w],[2,C.m]]),u.Fb(1073742336,y,y,[]),u.Fb(1024,C.k,function(){return[[{path:"",component:x}]]},[])])})}}]);